<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMU Mustangs Student Engagement Visualization</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Add inline styles for SVG mustangs */
    .svg-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
  </style>
</head>
<body>
  <div class="title">SMU Mustangs Engagement</div>
  <div class="subtitle">Class of 2026: Visualizing campus involvement through Mustang spirit</div>
  <div class="info">Hover over any mustang to explore student engagement data for different group sizes.</div>
  
  <!-- SVG container for mustang shapes -->
  <div class="svg-container" style="display:none;">
    <!-- SMU Mustang logo SVG (will be used as template) -->
    <svg id="mustang-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 329">
      <path d="M611.547,329v-24.571l-13.1-.636A15.855,15.855,0,0,1,582.579,288.1c-10.185-22.278-21.42-27.486-25.813-28.756-1.589-.635-2.225-1.271-1.59-1.907s1.907,0,3.5,0c7.328.636,21.985,1.271,30.36-4.777,0,0,3.814-2.225,1.589-6.367,0,0-1.589-3.5-7.32-1.272,0,0-13.051,5.095-31.313.636,0,0-3.178-.636-1.907-2.542,0,0,0-1.589,3.5-1.589a41.139,41.139,0,0,0,20.371-5.73c1.271-.635,2.225-1.271,3.5-1.907,7.643-4.776,14.957-11.779,14.01-21.649,0,0-1.271-7.325-10.827-7.325a20.6,20.6,0,0,0-14.322,5.413s-3.183,2.86-2.225-1.271a16.436,16.436,0,0,1,2.543-7.008c1.589-2.542,7.007-7.643,7.325-13.691,0,0,1.589-13.691-13.368-13.691,0,0-7.325.635-14.322,7.96,0,0-2.861,2.543-2.861-1.271v-8.279a5.671,5.671,0,0,0-3.5-5.413,11.661,11.661,0,0,0-10.822.002l-.14.062A14.732,14.732,0,0,0,516.6,176.97c-.318,1.271-.954,2.543-4.141,1.589a76.964,76.964,0,0,0-13.691-2.861c-3.178-.318-8.6-.318-10.5,4.777,0,0-3.5,7.325,5.1,15.6a6.167,6.167,0,0,1,2.225,4.777c-.318,3.178-1.271,10.5-1.589,14.01,0,0,.318,2.543-1.907,3.5a42.167,42.167,0,0,1-11.461,3.813s-2.224.636-4.141-2.224a31.617,31.617,0,0,0-11.779-9.868c-4.776-2.224-5.734-1.906-7.637-.635a11.871,11.871,0,0,0-5.413,6.684s-1.275,4.141,1.589,3.5c0,0,2.543-.636,2.225,1.907,0,0-1.589,4.777-8.279,8.914a21.737,21.737,0,0,1-14.64,2.86,17.164,17.164,0,0,1-9.229-5.73,1.7,1.7,0,0,1-.636-1.271c0-.953,1.589-2.224,3.814-1.907,0,0,1.59.318,1.271-1.271s-1.271-2.86-5.095-3.5a9.945,9.945,0,0,0-9.229,2.86,3.316,3.316,0,0,1-2.86.953s-.953-.318-.635-1.271a15.972,15.972,0,0,1,3.178-4.141c1.589-1.589,4.141-2.86,3.814-7.96,0,0-.318-5.095-7.96-7.643,0,0-2.86-.953-6.367,1.271,0,0-1.589.953-1.589-.636s1.907-4.459,4.459-7.325c0,0,1.907-2.224-.953-2.542,0,0-3.814-.953-12.1,8.6,0,0-1.907,1.907-2.543,0a8.163,8.163,0,0,1,1.271-8.6,13.3,13.3,0,0,0,2.543-7.96c0-3.5-2.543-6.684-9.551-6.684,0,0-7.96-.953-13.05,7.325,0,0-1.272,1.589-2.225.636s-.318-3.5-.318-5.413a11.658,11.658,0,0,0-9.232-11.461s-5.095-1.589-7.96,1.907c0,0-1.589,1.271-1.907,0,0,0-1.271-3.5,3.5-7.325,0,0,1.271-1.589-.318-2.224a6.723,6.723,0,0,0-8.279,1.906,7.083,7.083,0,0,1-5.095,2.543,10.208,10.208,0,0,1-8.279-2.225c-1.589-1.271-1.907-2.224-.636-2.542a4.143,4.143,0,0,1,1.907,0c3.178.318,7.008-.636,10.185-4.459,0,0,1.907-2.86-.953-4.777a13.476,13.476,0,0,0-7.325-1.589,34.943,34.943,0,0,0-10.822,1.907,14.657,14.657,0,0,1-5.095,1.271,2.541,2.541,0,0,1-2.543-2.224c-.318-1.907.953-4.141,5.413-7.325a16.709,16.709,0,0,0,2.86-2.225c2.543-2.224,3.5-4.776,2.225-7.325,0,0-1.271-2.86-7.325-2.86,0,0-11.461-.636-18.15,10.185,0,0-1.589,2.225-2.543.318s-1.271-10.185-10.185-12.1a10.348,10.348,0,0,0-11.461,5.095s-1.589,2.86-2.543,1.271-1.271-10.185-8.6-11.779-13.05,5.413-15.6,12.1c0,0-.636,2.224-2.543,1.271s-2.86-6.684-9.868-6.684-13.368,7.96-13.05,17.192a61.864,61.864,0,0,0,1.907,12.738s.953,2.543-1.271,1.589a47.8,47.8,0,0,0-10.5-2.224c-4.776-.318-9.551,2.224-9.232,7.96,0,0,.318,7.008,7.96,10.5,0,0,1.907.953,1.907,3.178a39.332,39.332,0,0,1-1.907,11.461,1.45,1.45,0,0,1-1.589.953,7.828,7.828,0,0,1-3.178-1.271,17.823,17.823,0,0,0-7.96-2.86c-3.178,0-6.684.953-7.011,4.459,0,0-.318,2.86,2.86,4.459a5.545,5.545,0,0,1,3.178,4.459c.318,1.589.318,9.232-.318,12.414a1.951,1.951,0,0,1-2.224,1.907c-1.589-.318-4.141-.636-6.367-.953-5.731-.318-11.779,3.178-9.868,9.55,0,0,1.271,5.413,9.55,5.731,0,0,1.589,0,1.907,2.224.318,1.907.636,9.868.636,12.732a1.764,1.764,0,0,1-1.271,1.907,16.765,16.765,0,0,0-9.868,7.96c-2.86,4.459-2.224,7.325-2.224,7.325,1.271,6.046,7.325,6.684,9.232,6.684h1.589a57.561,57.561,0,0,1,11.144,1.272c1.907.318,9.55,1.907,17.192-3.5a25.327,25.327,0,0,0,5.413-4.777c1.271-1.271,3.178-3.178,4.459-1.907s.318,4.141-.953,5.73c-1.271,1.589-2.224,4.141-1.271,6.367s3.814,7.008,15.281,4.777c0,0,4.776-.953,7.96-6.684,0,0,.635-1.271,1.589-.636s.636,2.86-1.271,5.095a5.537,5.537,0,0,0-1.271,3.5,5.662,5.662,0,0,0,2.224,4.459c2.543,1.589,6.684,1.907,11.144-1.271,0,0,1.907-1.589,1.907-3.5a2.97,2.97,0,0,1,.953-2.542c.635-.636,1.907-.636,2.224.953.318,1.589.318,3.178.636,4.777,0,1.271.953,2.224,2.86,2.224s9.232-.953,10.185-11.461c0,0,.318-2.86,2.543-2.86s1.589,4.777.953,7.008A7.442,7.442,0,0,0,285.7,320.7a10.3,10.3,0,0,0,10.5-3.814s1.271-1.589,1.907-.636a14.893,14.893,0,0,1,.953,1.589,4.845,4.845,0,0,0,4.459,2.86c3.5.318,9.55-1.589,13.368-5.413a10.006,10.006,0,0,0,3.178-5.095c.318-1.271.953-2.86,2.542-2.224a10.831,10.831,0,0,1,2.543,1.907,22.639,22.639,0,0,0,10.185,5.413,13.049,13.049,0,0,0,10.5-2.224,25.97,25.97,0,0,0,6.684-6.367c1.589-1.907,3.178-3.5,4.776-2.225a59.986,59.986,0,0,1,4.776,3.814,22.363,22.363,0,0,0,14.322,5.413c4.141,0,7.96-.953,9.229-6.046,0,0,.318-1.271,1.589-.953s8.6,2.86,15.6,1.907a8.876,8.876,0,0,0,6.684-4.459c.953-1.271,2.224-2.86,4.13-1.907,1.907.953,2.225,2.224,5.1,2.86a15.479,15.479,0,0,0,8.6-1.271c3.5-1.589,7.008-4.777,8.6-9.868,0,0,.635-1.907,1.907-1.271a20.47,20.47,0,0,1,1.907,1.271c1.907,1.271,4.459,1.589,9.868.318a32.371,32.371,0,0,0,14.634-9.2,36.656,36.656,0,0,0,7.643-15.6s2.224-6.684,3.5-8.914c.953-1.589,2.86-4.777,10.5-4.777a25.97,25.97,0,0,1,9.55,1.271,54.177,54.177,0,0,0,15.6,2.86c3.178,0,8.279-.318,10.821-3.5,0,0,1.576-1.589.317-3.5s-2.247-3.814.3-7.96c0,0,1.589-1.907,3.5.953,1.272,1.907,3.5,5.73,9.868,6.684a16.966,16.966,0,0,0,8.279-1.271,13.367,13.367,0,0,0,6.684-6.684s.953-1.907,2.224-1.589a19.12,19.12,0,0,1,2.861.953,24.538,24.538,0,0,0,15.6,2.224c6.38-1.271,10.821-5.095,11.144-11.779a19.6,19.6,0,0,0-1.907-9.868,33.866,33.866,0,0,1-1.589-4.459c-.318-1.271.318-1.907,1.589-1.589s14.01,4.128,23.909,1.584l.52-.152a52.09,52.09,0,0,0,16.557-7.49c2.225-1.271,3.5-.953,3.814.636a14.8,14.8,0,0,1,.318,2.224c.635,6.367,1.271,13.05,1.589,14.639.318,1.589.953,2.86,2.86,3.5,3.5,1.271,6.684-.316,8.6-5.729a76.17,76.17,0,0,0,1.907-7.008,3.078,3.078,0,0,1,2.86-2.224,20.938,20.938,0,0,0,10.185-3.5c5.413-3.814,9.868-9.868,10.821-17.51a21.888,21.888,0,0,0-4.459-17.51c-1.589-1.906-3.814-4.776-4.759-10.189a9.686,9.686,0,0,1,4.759-9.866" transform="translate(0 0)" style="fill:#c8102e"/>
    </svg>
  </div>

  <script>
    let dataArt;
    let mustangSvgPath; // Will store the SVG path data

    function setup() {
      createCanvas(windowWidth, windowHeight);
      colorMode(HSB, 360, 100, 100, 1);
      textFont('Arial');
      frameRate(30);
      
      // Get the mustang SVG path data
      const svgElement = document.getElementById('mustang-svg');
      const pathElement = svgElement.querySelector('path');
      mustangSvgPath = pathElement.getAttribute('d');
      
      // Hide the SVG container after getting the path data
      document.querySelector('.svg-container').style.display = 'none';
      
      // Initialize the visualization
      dataArt = new MustangsEngagementArt();
    }

    function draw() {
      background(220, 60, 8); // SMU Blue background
      dataArt.update();
      dataArt.display();
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
      dataArt.resize();
    }

    function mouseMoved() {
      dataArt.checkHover(mouseX, mouseY);
    }

    class MustangsEngagementArt {
      constructor() {
        this.studentData = [
          { groupRange: "0-5", avgTotal: 3.8, avgActive: 0.1, activeRatio: 1.7 },
          { groupRange: "6-9", avgTotal: 7.9, avgActive: 0.9, activeRatio: 11.0 },
          { groupRange: "10-13", avgTotal: 11.5, avgActive: 2.3, activeRatio: 20.3 },
          { groupRange: "14-17", avgTotal: 15.5, avgActive: 3.8, activeRatio: 24.5 },
          { groupRange: "18-21", avgTotal: 19.5, avgActive: 5.0, activeRatio: 25.7 },
          { groupRange: "22-25", avgTotal: 23.6, avgActive: 6.2, activeRatio: 26.3 },
          { groupRange: "26-29", avgTotal: 27.4, avgActive: 7.0, activeRatio: 25.5 },
          { groupRange: "30-33", avgTotal: 31.4, avgActive: 8.1, activeRatio: 25.6 },
          { groupRange: "34-37", avgTotal: 35.5, avgActive: 9.5, activeRatio: 26.9 },
          { groupRange: "38-41", avgTotal: 39.4, avgActive: 9.8, activeRatio: 24.9 },
          { groupRange: "42-45", avgTotal: 43.6, avgActive: 15.0, activeRatio: 34.3 },
          { groupRange: "46-49", avgTotal: 47.7, avgActive: 10.9, activeRatio: 22.8 },
          { groupRange: "50-59", avgTotal: 54.3, avgActive: 12.8, activeRatio: 23.6 },
          { groupRange: "60-69", avgTotal: 64.5, avgActive: 11.1, activeRatio: 17.2 },
          { groupRange: "70+", avgTotal: 79.0, avgActive: 7.0, activeRatio: 8.4 }
        ];
        
        // SMU colors (in HSB format)
        this.smuRed = [0, 80, 90]; 
        this.smuBlue = [220, 80, 90];
        
        this.mustangs = [];
        this.activeGroups = [];
        this.inactiveGroups = [];
        this.centerX = windowWidth / 2;
        this.centerY = windowHeight / 2;
        this.maxRadius = min(windowWidth, windowHeight) * 0.4;
        this.hoverMustang = null;
        this.time = 0;
        
        this.initializeVisualization();
      }
      
      initializeVisualization() {
        // Create a grid layout for mustangs
        const rows = 3;
        const cols = 5;
        const totalMustangs = this.studentData.length;
        
        const gridSpacingX = windowWidth * 0.7 / (cols - 1);
        const gridSpacingY = windowHeight * 0.6 / (rows - 1);
        const startX = this.centerX - (gridSpacingX * (cols - 1)) / 2;
        const startY = this.centerY - (gridSpacingY * (rows - 1)) / 2;
        
        // Create mustangs for each student group range
        for (let i = 0; i < totalMustangs; i++) {
          // Calculate grid position
          const row = Math.floor(i / cols);
          const col = i % cols;
          
          const x = startX + col * gridSpacingX;
          const y = startY + row * gridSpacingY;
          
          // Determine mustang size based on total group count
          const size = map(sqrt(this.studentData[i].avgTotal), 0, sqrt(80), 40, 120);
          
          // Determine color based on activation ratio - red for high activation, blue for low
          const activationHue = map(this.studentData[i].activeRatio, 0, 35, this.smuBlue[0], this.smuRed[0]);
          const activationSat = map(this.studentData[i].activeRatio, 0, 35, this.smuBlue[1], this.smuRed[1]);
          
          const mustang = {
            x: x,
            y: y,
            targetX: x,
            targetY: y,
            size: size,
            data: this.studentData[i],
            hue: activationHue,
            saturation: activationSat,
            brightness: 85,
            angle: 0,
            galloping: 0,
            gallopSpeed: random(0.05, 0.1),
            hovering: false,
            row: row,
            col: col,
            // Slightly vary each mustang
            flipX: random() > 0.5
          };
          
          this.mustangs.push(mustang);
          
          // Create active student groups around this mustang
          const activeCount = ceil(mustang.data.avgActive);
          for (let j = 0; j < activeCount; j++) {
            const angle = random(TWO_PI);
            const radius = mustang.size * 1.5 * random(0.8, 1.2);
            const activeGroup = {
              x: mustang.x + cos(angle) * radius,
              y: mustang.y + sin(angle) * radius,
              size: 8,
              parentMustang: mustang,
              hue: this.smuRed[0],
              saturation: this.smuRed[1],
              brightness: this.smuRed[2],
              opacity: j < mustang.data.avgActive ? 1 : 0.3, // Partial opacity for fractional counts
              angle: angle,
              distance: radius,
              speed: random(0.02, 0.04)
            };
            this.activeGroups.push(activeGroup);
          }
          
          // Create inactive student groups (limited for visual clarity)
          const inactiveCount = ceil(mustang.data.avgTotal - mustang.data.avgActive);
          const inactiveDisplayCount = min(inactiveCount, 40);
          
          for (let j = 0; j < inactiveDisplayCount; j++) {
            const angle = random(TWO_PI);
            const radius = mustang.size * 1.2 * random(0.8, 1.2);
            const inactiveGroup = {
              x: mustang.x + cos(angle) * radius,
              y: mustang.y + sin(angle) * radius,
              size: 5,
              parentMustang: mustang,
              hue: this.smuBlue[0],
              saturation: this.smuBlue[1],
              brightness: this.smuBlue[2],
              opacity: j < inactiveCount ? 0.6 : 0.2,
              angle: angle,
              distance: radius,
              speed: random(0.01, 0.02)
            };
            this.inactiveGroups.push(inactiveGroup);
          }
        }
      }
      
      resize() {
        this.centerX = windowWidth / 2;
        this.centerY = windowHeight / 2;
        
        // Recalculate grid layout
        const rows = 3;
        const cols = 5;
        
        const gridSpacingX = windowWidth * 0.7 / (cols - 1);
        const gridSpacingY = windowHeight * 0.6 / (rows - 1);
        const startX = this.centerX - (gridSpacingX * (cols - 1)) / 2;
        const startY = this.centerY - (gridSpacingY * (rows - 1)) / 2;
        
        // Reposition mustangs
        for (let i = 0; i < this.mustangs.length; i++) {
          const mustang = this.mustangs[i];
          const row = mustang.row;
          const col = mustang.col;
          
          mustang.targetX = startX + col * gridSpacingX;
          mustang.targetY = startY + row * gridSpacingY;
        }
      }
      
      update() {
        this.time += 0.01;
        
        // Update mustangs
        for (let mustang of this.mustangs) {
          mustang.x = lerp(mustang.x, mustang.targetX, 0.1);
          mustang.y = lerp(mustang.y, mustang.targetY, 0.1);
          
          // Galloping animation
          mustang.galloping = sin(this.time * mustang.gallopSpeed * 10);
          
          // If hovering, make the mustang more animated
          if (mustang.hovering) {
            mustang.gallopSpeed = 0.15;
          } else {
            mustang.gallopSpeed = random(0.05, 0.1);
          }
        }
        
        // Update active groups
        for (let group of this.activeGroups) {
          const parent = group.parentMustang;
          
          // Follow parent mustang with a slight delay
          group.angle += group.speed;
          group.x = parent.x + cos(group.angle) * group.distance;
          group.y = parent.y + sin(group.angle) * group.distance;
        }
        
        // Update inactive groups
        for (let group of this.inactiveGroups) {
          const parent = group.parentMustang;
          
          // Slow movement around parent mustang
          group.angle += group.speed * 0.5;
          group.x = parent.x + cos(group.angle) * group.distance;
          group.y = parent.y + sin(group.angle) * group.distance;
        }
      }
      
      display() {
        // Draw SMU logo in background
        this.drawBackgroundElements();
        
        // Draw inactive groups
        for (let group of this.inactiveGroups) {
          noStroke();
          fill(group.hue, group.saturation, group.brightness, group.opacity * 0.6);
          ellipse(group.x, group.y, group.size);
        }
        
        // Draw active groups
        for (let group of this.activeGroups) {
          noStroke();
          fill(group.hue, group.saturation, group.brightness, group.opacity * 0.8);
          ellipse(group.x, group.y, group.size);
          
          // Add glow to active groups
          fill(group.hue, group.saturation, group.brightness, group.opacity * 0.3);
          ellipse(group.x, group.y, group.size * 1.5);
        }
        
        // Draw mustangs
        for (let mustang of this.mustangs) {
          this.drawMustangSvg(mustang);
        }
        
        // Draw hover information
        if (this.hoverMustang) {
          this.drawMustangInfo(this.hoverMustang);
        }
      }
      
      drawBackgroundElements() {
        // Draw a large SMU in the background
        noStroke();
        fill(255, 0, 70, 0.05);
        textAlign(CENTER, CENTER);
        textStyle(BOLD);
        textSize(width * 0.3);
        text("SMU", this.centerX, this.centerY);
      }
      
      drawMustangSvg(mustang) {
        push();
        translate(mustang.x, mustang.y);
        
        // Apply slight animation/movement
        const gallopAmount = mustang.galloping * 2;
        rotate(gallopAmount * 0.03);
        
        // Flip horizontally if needed
        if (mustang.flipX) {
          scale(-1, 1);
        }
        
        // Set the color based on activation ratio
        noStroke();
        fill(mustang.hue, mustang.saturation, mustang.brightness);
        
        // Scale to the appropriate size (SVG is 612Ã—329)
        const scaleFactor = mustang.size / 612;
        scale(scaleFactor);
        
        // Draw the SVG path
        beginShape();
        // Parse and draw the SVG path
        this.drawSvgPath(mustangSvgPath);
        endShape(CLOSE);
        
        pop();
        
        // Add text for group count range
        push();
        textAlign(CENTER, CENTER);
        textStyle(BOLD);
        
        // Create a semi-transparent background for the text to make it more readable
        noStroke();
        fill(0, 0, 30, 0.5);
        const textBoxSize = mustang.size * 0.5;
        const textY = mustang.y + mustang.size * 0.6;
        rectMode(CENTER);
        rect(mustang.x, textY + mustang.size * 0.1, textBoxSize, mustang.size * 0.3, 10);
        
        // Draw the text
        fill(255);
        textSize(mustang.size * 0.18);
        text(mustang.data.groupRange, mustang.x, textY);
        
        // Show activation ratio
        textSize(mustang.size * 0.14);
        text(`${mustang.data.activeRatio.toFixed(1)}%`, mustang.x, textY + mustang.size * 0.2);
        pop();
        
        // If hovering, add subtle highlight/glow
        if (mustang.hovering) {
          noFill();
          stroke(mustang.hue, mustang.saturation, mustang.brightness, 0.7);
          strokeWeight(2);
          ellipse(mustang.x, mustang.y, mustang.size * 1.5);
        }
      }
      
      // Function to parse SVG path data and draw using p5.js vertex commands
      drawSvgPath(pathData) {
        // This is a simplified SVG path parser for the specific mustang shape
        // It handles M (moveTo), L (lineTo), C (cubicTo), etc.
        
        // For this particular path, we'll just draw using vertex
        // The full SVG path parsing is complex, but we know the mustang shape is solid
        // So we can draw it directly with vertex commands
        
        // Convert relative coords to absolute and draw the path
        vertex(-306, -164.5); // Center the shape
        
        // More vertices would go here for a full parser
        // For now we just draw a simplified mustang shape
        
        vertex(-250, -120);
        vertex(-200, -140);
        vertex(-150, -120);
        vertex(-100, -80);
        vertex(-50, -90);
        vertex(0, -60);
        vertex(50, -30);
        vertex(100, 0);
        vertex(150, 0);
        vertex(200, -30);
        vertex(250, -90);
        vertex(300, -120);
        vertex(250, -50);
        vertex(200, 0);
        vertex(150, 50);
        vertex(100, 100);
        vertex(50, 120);
        vertex(0, 100);
        vertex(-50, 80);
        vertex(-100, 100);
        vertex(-150, 80);
        vertex(-200, 50);
        vertex(-250, 0);
        vertex(-300, -50);
        vertex(-250, -100);
      }
      
      drawMustangInfo(mustang) {
        const data = mustang.data;
        const infoX = mustang.x + mustang.size;
        const infoY = mustang.y - mustang.size * 0.5;
        
        // Draw info panel background
        fill(220, 60, 15, 0.9); // SMU Blue background
        stroke(this.smuRed[0], this.smuRed[1], this.smuRed[2]);
        strokeWeight(2);
        rectMode(CORNER);
        rect(infoX, infoY, 220, 160, 10);
        
        // Draw info text
        noStroke();
        textAlign(LEFT, TOP);
        fill(360, 0, 90);
        textSize(16);
        text(`Group Range: ${data.groupRange}`, infoX + 10, infoY + 10);
        
        textSize(14);
        fill(360, 0, 80);
        text(`Total Groups: ${data.avgTotal.toFixed(1)}`, infoX + 10, infoY + 40);
        
        // Use SMU red for active groups
        fill(this.smuRed[0], this.smuRed[1], this.smuRed[2]);
        text(`Active Groups: ${data.avgActive.toFixed(1)}`, infoX + 10, infoY + 65);
        
        // Use SMU blue for inactive groups
        fill(this.smuBlue[0], this.smuBlue[1], this.smuBlue[2]);
        text(`Inactive Groups: ${(data.avgTotal - data.avgActive).toFixed(1)}`, infoX + 10, infoY + 90);
        
        fill(360, 0, 90);
        text(`Activation Rate: ${data.activeRatio.toFixed(1)}%`, infoX + 10, infoY + 115);
        
        // Add SMU motto
        fill(this.smuRed[0], this.smuRed[1], this.smuRed[2], 0.8);
        textStyle(ITALIC);
        textSize(10);
        text("World Changers Shaped Here", infoX + 10, infoY + 140);
        textStyle(NORMAL);
      }
      
      checkHover(x, y) {
        let hoveredMustang = null;
        
        // Reset hover state
        for (let mustang of this.mustangs) {
          mustang.hovering = false;
        }
        
        // Check if mouse is over any mustang
        for (let mustang of this.mustangs) {
          const d = dist(x, y, mustang.x, mustang.y);
          if (d < mustang.size * 0.6) {
            hoveredMustang = mustang;
            mustang.hovering = true;
            break;
          }
        }
        
        this.hoverMustang = hoveredMustang;
      }
    }
  </script>
</body>
</html>